---
title: "RMeCabã¿ãŸã„ãªRãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’CRANã«æŠ•ç¨¿ã—ãŸè©±"
emoji: 'ğŸ‰'
type: 'idea'
topics: ['r']
published: true
author: 'paithiov909'
---

## gibasaãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¤ã„ã¦

[RMeCab](https://github.com/IshidaMotohiro/RMeCab)ã¿ãŸã„ãªã“ã¨ãŒã§ãã‚‹ã€gibasaã¨ã„ã†Rãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å€‹äººã§é–‹ç™ºã—ã¦ã„ã¾ã™ã€‚å…ˆæ—¥CRANã«æŠ•ç¨¿ã§ããŸã®ã§ã€2023å¹´4æœˆ20æ—¥ç¾åœ¨ã§ã¯ã€`install.packages("gibasa")`ã¨ã™ã‚‹ã ã‘ã§ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

https://github.com/paithiov909/gibasa

ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã¯ã€`tidytext::unnest_tokens`ã¨åŒã˜ã‚ˆã†ãªå‡¦ç†ã‚’MeCabã‚’åˆ©ç”¨ã—ã¤ã¤ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã¨ã„ã†ã“ã¨ã§é–‹ç™ºã—ã¦ã„ã¾ã™ã€‚ã¾ãŸã€ã¨ãã«æœ€è¿‘ã¯ã€ã‚ˆã‚Šç°¡å˜ã«åˆ©ç”¨ã‚’ã¯ã˜ã‚ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã‚ˆã†ã¨ã€ã™ã“ã—ãšã¤æ”¹å–„ã‚’ç¶šã‘ã¦ã„ã¾ã™ã€‚

## é–‹ç™ºã®èƒŒæ™¯

Rã‹ã‚‰MeCabã‚’åˆ©ç”¨ã§ãã‚‹Rãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ã¯ã€ã™ã§ã«RMeCabãŒã‚ã‚Šã¾ã™ã€‚å¾³å³¶å¤§å­¦ã®çŸ³ç”°åŸºåºƒå…ˆç”ŸãŒé–‹ç™ºã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã§ã€ã‚ã‚Šã¨æ˜”ã‹ã‚‰ã‚ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚

RMeCabã¯ä¾¿åˆ©ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ãŒã€æ®‹å¿µãªãŒã‚‰ã€CRANã«ã¯ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

æŠ€è¡“çš„ãªè©±ã‚’ã™ã‚‹ã¨ã€RMeCabã¯MeCabã®ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç”¨ã„ã¦å½¢æ…‹ç´ è§£æã‚’ãŠã“ãªã„ã¾ã™ã€‚ãã®ãŸã‚ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã«ã¯`libmecab.dll`ãªã©ã®ãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã§ã™ã€‚ä¸€æ–¹ã§ã€CRANãƒãƒªã‚·ãƒ¼ã¯åŸºæœ¬çš„ã«ãã†ã—ãŸãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚½ãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å«ã‚ã‚‹ã“ã¨ã‚’ç¦æ­¢ã—ã¦ã„ã¾ã™ã€‚ãŠãã‚‰ãã§ã™ãŒã€ãã†ã„ã£ãŸäº‹æƒ…ã‹ã‚‰ã€RMeCabã¯CRANã«ç™»éŒ²ã™ã‚‹ã“ã¨ãŒå›°é›£ã ã£ãŸã®ã ã‚ã†ã¨æ€ã‚ã‚Œã¾ã™ã€‚

åŒæ§˜ã«MeCabã®ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ©ç”¨ã™ã‚‹Rãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ã€[RcppMeCab](https://github.com/junhewk/RcppMeCab)ã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒCRANã«ã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€RcppMeCabã¯ã€2023å¹´4æœˆç¾åœ¨ã§ã¯ã™ã§ã«ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ãªã„ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚MeCabã‚’åˆ©ç”¨ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’CRANã«ç™»éŒ²ã—ã€è¤‡æ•°ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¸Šã§å‹•ä½œã™ã‚‹ã‚ˆã†ã«ãƒ¡ãƒ³ãƒ†ãƒ³ãƒŠãƒ³ã‚¹ã™ã‚‹ã®ã¯ãªã‹ãªã‹é›£ã—ã‹ã£ãŸã‚ˆã†ã§ã€å®Ÿéš›ã€ãã®ã‚ˆã†ãªRãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã“ã‚Œã¾ã§CRANã«ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚

ãã®ç‚¹ã€gibasaã¯CRANã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚‚ã®ã¨ã—ã¦ã¯ãŠãã‚‰ãã¯ã˜ã‚ã¦ã¨ã‚‚ã„ãˆã‚‹ã€å¤–éƒ¨ã®ãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ãªã—ã§å½¢æ…‹ç´ è§£æãŒå¯èƒ½ãªRãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã™ã€‚gibasaã¯v0.5.0ã‹ã‚‰MeCabã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ã‚½ãƒ¼ã‚¹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã«å«ã‚“ã§ã„ã‚‹ãŸã‚ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã®ã«MeCabã®ãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¿…è¦ã¨ã—ã¾ã›ã‚“ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ä»•æ–¹

gibasaã‚’å®Ÿéš›ã«åˆ©ç”¨ã™ã‚‹ã«ã¯ã€MeCabã®è¾æ›¸ã¨ãã®å ´æ‰€ãŒæ›¸ã‹ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`mecabrc`ï¼‰ãŒå¿…è¦ã§ã™ã€‚é€†ã«ã€ãã‚Œã‚‰ãŒã‚ã‚Œã°MeCabã®ãƒã‚¤ãƒŠãƒªã¯ãªãã¦ã‚‚å‹•ã‹ã›ã¾ã™ã€‚ã‚ˆãã‚ã‹ã‚‰ãªã„ã¨ã„ã†äººã¯ã€ã¨ã‚Šã‚ãˆãšãµã¤ã†ã«MeCabã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã¨å‹•ã‹ã›ã‚‹ã¨æ€ã„ã¾ã™ã€‚

ãŸã¨ãˆã°ã€Windowsã§MeCabã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã‚ã‚Œã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚‹ã ã‘ã§åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¯ãšã§ã™ã€‚

```r
install.packages("gibasa")
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã«`gibasa::dictionary_info()`ã—ã¦ã€è¾æ›¸ã®ãƒ‘ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãŒè¿”ã£ã¦ãã‚Œã°ä¸Šæ‰‹ãã„ã£ã¦ã„ã¾ã™ã€‚


## ä½¿ã„æ–¹

å½¢æ…‹ç´ è§£æã‚’ã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«`tokenize`ã¨ã„ã†é–¢æ•°ã‚’ä½¿ã„ã¾ã™ã€‚

```r
gibasa::tokenize(c("é ­ãŒèµ¤ã„é­šã‚’é£Ÿã¹ãŸçŒ«", "æœ›é é¡ã§æ³³ãå½¼å¥³ã‚’è¦‹ãŸ"))
#> # A tibble: 15 Ã— 5
#>    doc_id sentence_id token_id token  feature
#>    <fct>        <int>    <int> <chr>  <chr>
#>  1 1                1        1 é ­     åè©,ä¸€èˆ¬,*,*,*,*,é ­,ã‚¢ã‚¿ãƒ,ã‚¢ã‚¿ãƒ
#>  2 1                1        2 ãŒ     åŠ©è©,æ ¼åŠ©è©,ä¸€èˆ¬,*,*,*,ãŒ,ã‚¬,ã‚¬
#>  3 1                1        3 èµ¤ã„   å½¢å®¹è©,è‡ªç«‹,*,*,å½¢å®¹è©ãƒ»ã‚¢ã‚¦ã‚ªæ®µ,åŸºæœ¬å½¢,â€¦
#>  4 1                1        4 é­š     åè©,ä¸€èˆ¬,*,*,*,*,é­š,ã‚µã‚«ãƒŠ,ã‚µã‚«ãƒŠ
#>  5 1                1        5 ã‚’     åŠ©è©,æ ¼åŠ©è©,ä¸€èˆ¬,*,*,*,ã‚’,ãƒ²,ãƒ²
#>  6 1                1        6 é£Ÿã¹   å‹•è©,è‡ªç«‹,*,*,ä¸€æ®µ,é€£ç”¨å½¢,é£Ÿã¹ã‚‹,ã‚¿ãƒ™,ã‚¿ãƒ™
#>  7 1                1        7 ãŸ     åŠ©å‹•è©,*,*,*,ç‰¹æ®Šãƒ»ã‚¿,åŸºæœ¬å½¢,ãŸ,ã‚¿,ã‚¿
#>  8 1                1        8 çŒ«     åè©,ä¸€èˆ¬,*,*,*,*,çŒ«,ãƒã‚³,ãƒã‚³
#>  9 2                2        1 æœ›é é¡ åè©,ä¸€èˆ¬,*,*,*,*,æœ›é é¡,ãƒœã‚¦ã‚¨ãƒ³ã‚­ãƒ§ã‚¦,â€¦
#> 10 2                2        2 ã§     åŠ©è©,æ ¼åŠ©è©,ä¸€èˆ¬,*,*,*,ã§,ãƒ‡,ãƒ‡
#> 11 2                2        3 æ³³ã   å‹•è©,è‡ªç«‹,*,*,äº”æ®µãƒ»ã‚¬è¡Œ,åŸºæœ¬å½¢,æ³³ã,ã‚ªãƒ¨â€¦
#> 12 2                2        4 å½¼å¥³   åè©,ä»£åè©,ä¸€èˆ¬,*,*,*,å½¼å¥³,ã‚«ãƒã‚¸ãƒ§,ã‚«ãƒâ€¦
#> 13 2                2        5 ã‚’     åŠ©è©,æ ¼åŠ©è©,ä¸€èˆ¬,*,*,*,ã‚’,ãƒ²,ãƒ²
#> 14 2                2        6 è¦‹     å‹•è©,è‡ªç«‹,*,*,ä¸€æ®µ,é€£ç”¨å½¢,è¦‹ã‚‹,ãƒŸ,ãƒŸ
#> 15 2                2        7 ãŸ     åŠ©å‹•è©,*,*,*,ç‰¹æ®Šãƒ»ã‚¿,åŸºæœ¬å½¢,ãŸ,ã‚¿,ã‚¿
```

ã“ã®é–¢æ•°ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’æ¸¡ã™ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```r
data.frame(
  doc_id = c("a", "b"),
  text = c("é ­ãŒèµ¤ã„é­šã‚’é£Ÿã¹ãŸçŒ«", "æœ›é é¡ã§æ³³ãå½¼å¥³ã‚’è¦‹ãŸ")
) |>
  gibasa::tokenize()
#> # A tibble: 15 Ã— 5
#>    doc_id sentence_id token_id token  feature
#>    <fct>        <int>    <int> <chr>  <chr>
#>  1 a                1        1 é ­     åè©,ä¸€èˆ¬,*,*,*,*,é ­,ã‚¢ã‚¿ãƒ,ã‚¢ã‚¿ãƒ
#>  2 a                1        2 ãŒ     åŠ©è©,æ ¼åŠ©è©,ä¸€èˆ¬,*,*,*,ãŒ,ã‚¬,ã‚¬
#>  3 a                1        3 èµ¤ã„   å½¢å®¹è©,è‡ªç«‹,*,*,å½¢å®¹è©ãƒ»ã‚¢ã‚¦ã‚ªæ®µ,åŸºæœ¬å½¢,â€¦
#>  4 a                1        4 é­š     åè©,ä¸€èˆ¬,*,*,*,*,é­š,ã‚µã‚«ãƒŠ,ã‚µã‚«ãƒŠ
#>  5 a                1        5 ã‚’     åŠ©è©,æ ¼åŠ©è©,ä¸€èˆ¬,*,*,*,ã‚’,ãƒ²,ãƒ²
#>  6 a                1        6 é£Ÿã¹   å‹•è©,è‡ªç«‹,*,*,ä¸€æ®µ,é€£ç”¨å½¢,é£Ÿã¹ã‚‹,ã‚¿ãƒ™,ã‚¿ãƒ™
#>  7 a                1        7 ãŸ     åŠ©å‹•è©,*,*,*,ç‰¹æ®Šãƒ»ã‚¿,åŸºæœ¬å½¢,ãŸ,ã‚¿,ã‚¿
#>  8 a                1        8 çŒ«     åè©,ä¸€èˆ¬,*,*,*,*,çŒ«,ãƒã‚³,ãƒã‚³
#>  9 b                2        1 æœ›é é¡ åè©,ä¸€èˆ¬,*,*,*,*,æœ›é é¡,ãƒœã‚¦ã‚¨ãƒ³ã‚­ãƒ§ã‚¦,â€¦
#> 10 b                2        2 ã§     åŠ©è©,æ ¼åŠ©è©,ä¸€èˆ¬,*,*,*,ã§,ãƒ‡,ãƒ‡
#> 11 b                2        3 æ³³ã   å‹•è©,è‡ªç«‹,*,*,äº”æ®µãƒ»ã‚¬è¡Œ,åŸºæœ¬å½¢,æ³³ã,ã‚ªãƒ¨â€¦
#> 12 b                2        4 å½¼å¥³   åè©,ä»£åè©,ä¸€èˆ¬,*,*,*,å½¼å¥³,ã‚«ãƒã‚¸ãƒ§,ã‚«ãƒâ€¦
#> 13 b                2        5 ã‚’     åŠ©è©,æ ¼åŠ©è©,ä¸€èˆ¬,*,*,*,ã‚’,ãƒ²,ãƒ²
#> 14 b                2        6 è¦‹     å‹•è©,è‡ªç«‹,*,*,ä¸€æ®µ,é€£ç”¨å½¢,è¦‹ã‚‹,ãƒŸ,ãƒŸ
#> 15 b                2        7 ãŸ     åŠ©å‹•è©,*,*,*,ç‰¹æ®Šãƒ»ã‚¿,åŸºæœ¬å½¢,ãŸ,ã‚¿,ã‚¿
```

è©³ã—ã„ä½¿ã„æ–¹ã¯ã€ä»¥ä¸‹ã®è³‡æ–™ã‚’è¦‹ã¦ãã ã•ã„ã€‚

- [An Alternative Rcpp Wrapper of MeCab â€¢ gibasa](https://paithiov909.github.io/gibasa/)
- [Rã¨MeCabã«ã‚ˆã‚‹æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆãƒã‚¤ãƒ‹ãƒ³ã‚°ã®å‰å‡¦ç†](https://paithiov909.github.io/textmining-ja/)
